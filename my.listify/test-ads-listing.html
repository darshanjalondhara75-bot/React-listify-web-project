<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ads Listing - Fully Functional</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }

        /* Header Styles */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 {
            font-size: 1.5rem;
            font-weight: 600;
        }

        .header-actions {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .user-avatar {
            width: 38px;
            height: 38px;
            border-radius: 50%;
            background: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #667eea;
            cursor: pointer;
            position: relative;
        }

        .user-avatar .badge {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 12px;
            height: 12px;
            background: #4caf50;
            border: 2px solid white;
            border-radius: 50%;
        }

        /* Main Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .page-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: #333;
        }

        /* Card Styles */
        .card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            overflow: hidden;
            margin-bottom: 20px;
        }

        /* Filter Section */
        .filters-section {
            padding: 20px;
        }

        .filters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .filter-group label {
            font-size: 0.9rem;
            font-weight: 500;
            color: #555;
        }

        .filter-group select,
        .filter-group input {
            padding: 10px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 0.9rem;
            background: white;
            transition: border-color 0.2s ease;
        }

        .filter-group select:focus,
        .filter-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .controls-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .entries-per-page {
            min-width: 70px;
        }

        .search-box {
            flex: 1;
            max-width: 400px;
            position: relative;
        }

        .search-box input {
            width: 100%;
            padding-right: 40px;
        }

        .search-box .search-icon {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
        }

        /* Table Styles */
        .table-container {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        th {
            background: #f8f9fa;
            padding: 12px;
            text-align: left;
            font-weight: 600;
            color: #333;
            border-bottom: 2px solid #e0e0e0;
            white-space: nowrap;
            cursor: pointer;
            user-select: none;
            transition: background-color 0.2s ease;
        }

        th:hover {
            background: #e9ecef;
        }

        td {
            padding: 12px;
            border-bottom: 1px solid #f0f0f0;
            vertical-align: middle;
            white-space: nowrap;
        }

        tr:hover {
            background: #fafafa;
        }

        /* Status Chips */
        .chip {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 16px;
            font-size: 0.75rem;
            font-weight: 500;
            text-transform: capitalize;
            border: none;
            cursor: default;
        }

        .chip-live { background: #e8f5e8; color: #2e7d32; }
        .chip-under-review { background: #e3f2fd; color: #1565c0; }
        .chip-soft-rejected { background: #fff3e0; color: #f57c00; }
        .chip-permanent-rejected { background: #ffebee; color: #c62828; }
        .chip-auction { background: #e8f5e8; color: #2e7d32; }
        .chip-buy-now { background: #e3f2fd; color: #1565c0; }
        .chip-not-for-sale { background: #ffebee; color: #c62828; }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 6px;
            flex-wrap: wrap;
        }

        .btn-icon {
            width: 32px;
            height: 32px;
            border: 1px solid #ddd;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            color: #666;
        }

        .btn-icon:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .btn-icon.view:hover { border-color: #2196f3; color: #2196f3; }
        .btn-icon.edit:hover { border-color: #ff9800; color: #ff9800; }
        .btn-icon.delete:hover { border-color: #f44336; color: #f44336; }
        .btn-icon.auction:hover { border-color: #4caf50; color: #4caf50; }
        .btn-icon.status:hover { border-color: #9c27b0; color: #9c27b0; }
        .btn-icon.attributes:hover { border-color: #607d8b; color: #607d8b; }

        /* Image Gallery */
        .image-gallery {
            display: flex;
            gap: 4px;
            align-items: center;
        }

        .gallery-img {
            width: 40px;
            height: 40px;
            object-fit: cover;
            border-radius: 4px;
            border: 1px solid #ddd;
        }

        /* Seller Info */
        .seller-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .seller-avatar {
            width: 38px;
            height: 38px;
            border-radius: 50%;
            object-fit: cover;
            border: 1px solid #ddd;
        }

        .seller-details {
            display: flex;
            flex-direction: column;
        }

        .seller-name {
            font-weight: 500;
            color: #333;
            font-size: 0.9rem;
        }

        .seller-email {
            font-size: 0.75rem;
            color: #666;
        }

        /* Title Cell */
        .title-cell {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .title-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            border: 1px solid #ddd;
        }

        .title-text {
            display: flex;
            flex-direction: column;
        }

        .title-main {
            font-weight: 500;
            color: #333;
        }

        .title-sub {
            font-size: 0.75rem;
            color: #666;
        }

        /* Attributes Badge */
        .attributes-badge {
            position: relative;
            display: inline-block;
        }

        .badge-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #f44336;
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: bold;
        }

        /* Switch */
        .switch {
            position: relative;
            width: 44px;
            height: 24px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #667eea;
        }

        input:checked + .slider:before {
            transform: translateX(20px);
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-top: 1px solid #e0e0e0;
            background: #f8f9fa;
        }

        .pagination-info {
            color: #666;
            font-size: 0.9rem;
        }

        .pagination-controls {
            display: flex;
            gap: 5px;
        }

        .page-btn {
            padding: 8px 12px;
            border: 1px solid #ddd;
            background: white;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.2s ease;
            min-width: 40px;
            text-align: center;
        }

        .page-btn:hover {
            background: #f5f5f5;
        }

        .page-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            animation: fadeIn 0.3s ease;
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: 8px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            animation: slideIn 0.3s ease;
        }

        .modal-header {
            padding: 20px;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #333;
        }

        .modal-close {
            width: 32px;
            height: 32px;
            border: none;
            background: #f5f5f5;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s ease;
        }

        .modal-close:hover {
            background: #e0e0e0;
        }

        .modal-body {
            padding: 20px;
        }

        .modal-footer {
            padding: 20px;
            border-top: 1px solid #e0e0e0;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5a6fd8;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .btn-danger:hover {
            background: #c82333;
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #333;
        }

        .form-control {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 0.9rem;
        }

        .form-control:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            padding: 16px;
            z-index: 2000;
            display: none;
            animation: slideInRight 0.3s ease;
            max-width: 350px;
        }

        .toast.show {
            display: block;
        }

        .toast-success {
            border-left: 4px solid #4caf50;
        }

        .toast-error {
            border-left: 4px solid #f44336;
        }

        .toast-info {
            border-left: 4px solid #2196f3;
        }

        .toast-warning {
            border-left: 4px solid #ff9800;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes slideInRight {
            from { transform: translateX(100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header {
                padding: 15px;
            }

            .container {
                padding: 10px;
            }

            .filters-grid {
                grid-template-columns: 1fr;
            }

            .controls-row {
                flex-direction: column;
                align-items: stretch;
            }

            .search-box {
                max-width: none;
            }

            .table-container {
                overflow-x: scroll;
            }

            .pagination {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <h1>üì± Ads Listing</h1>
        <div class="header-actions">
            <span class="material-icons" style="cursor: pointer;">dark_mode</span>
            <div class="user-avatar">
                L
                <div class="badge"></div>
            </div>
        </div>
    </header>

    <!-- Main Container -->
    <div class="container">
        <h2 class="page-title">Ads Listing</h2>

        <!-- Main Card -->
        <div class="card">
            <!-- Filter Section -->
            <div class="filters-section">
                <div class="filters-grid">
                    <div class="filter-group">
                        <label>Country</label>
                        <select id="countryFilter">
                            <option value="">Select Country</option>
                            <option value="Afghanistan">Afghanistan</option>
                            <option value="Australia">Australia</option>
                            <option value="France">France</option>
                            <option value="India">India</option>
                            <option value="Indonesia">Indonesia</option>
                            <option value="Italy">Italy</option>
                            <option value="Pakistan">Pakistan</option>
                            <option value="USA">USA</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>City</label>
                        <select id="cityFilter">
                            <option value="">Select City</option>
                            <option value="Surat">Surat</option>
                            <option value="Mumbai">Mumbai</option>
                            <option value="Marcellina">Marcellina</option>
                            <option value="Dipignano">Dipignano</option>
                            <option value="Laganadi">Laganadi</option>
                            <option value="Parenti">Parenti</option>
                            <option value="Rocca Imperiale">Rocca Imperiale</option>
                            <option value="Kabupaten Nganjuk">Kabupaten Nganjuk</option>
                            <option value="Neutral Bay">Neutral Bay</option>
                            <option value="Thane">Thane</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Seller</label>
                        <select id="sellerFilter">
                            <option value="">Select Seller</option>
                            <option value="Thomas">Thomas</option>
                            <option value="David John">David John</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Status</label>
                        <select id="statusFilter">
                            <option value="">All status</option>
                            <option value="live">Live</option>
                            <option value="under review">Under Review</option>
                            <option value="soft rejected">Soft Rejected</option>
                            <option value="permanent rejected">Permanent Rejected</option>
                        </select>
                    </div>
                </div>

                <div class="controls-row">
                    <select class="entries-per-page" id="entriesPerPage">
                        <option value="10">10</option>
                        <option value="25">25</option>
                        <option value="50">50</option>
                    </select>
                    
                    <div class="search-box">
                        <input type="text" placeholder="Search user by name, email, uniqueID" id="searchInput">
                        <span class="material-icons search-icon">search</span>
                    </div>
                </div>
            </div>

            <!-- Table Section -->
            <div class="table-container">
                <table id="adsTable">
                    <thead>
                        <tr>
                            <th onclick="sortTable('title')">Title ‚Üï</th>
                            <th>Seller</th>
                            <th>Image Gallery</th>
                            <th>Attributes</th>
                            <th>Status</th>
                            <th onclick="sortTable('country')">Country ‚Üï</th>
                            <th>State</th>
                            <th>City</th>
                            <th>Sale Type</th>
                            <th onclick="sortTable('price')">Price ‚Üï</th>
                            <th>Likes</th>
                            <th>Views</th>
                            <th>Auction Price</th>
                            <th>Auction Days</th>
                            <th>Auction Start Date</th>
                            <th>Auction End Date</th>
                            <th onclick="sortTable('createdAt')">Created At ‚Üï</th>
                            <th>Active</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                        <!-- Table rows will be generated by JavaScript -->
                    </tbody>
                </table>
            </div>

            <!-- Pagination -->
            <div class="pagination">
                <div class="pagination-info" id="paginationInfo">
                    Showing 1 to 10 of 21 entries
                </div>
                <div class="pagination-controls" id="paginationControls">
                    <!-- Pagination buttons will be generated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- View Details Modal -->
    <div id="viewModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Ad Details</h3>
                <button class="modal-close" onclick="closeModal('viewModal')">&times;</button>
            </div>
            <div class="modal-body" id="viewModalBody">
                <!-- Content will be populated dynamically -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('viewModal')">Close</button>
            </div>
        </div>
    </div>

    <!-- Edit Modal -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Edit Ad</h3>
                <button class="modal-close" onclick="closeModal('editModal')">&times;</button>
            </div>
            <div class="modal-body" id="editModalBody">
                <!-- Form will be populated dynamically -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('editModal')">Cancel</button>
                <button class="btn btn-primary" onclick="updateAd()">Update</button>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Confirm Delete</h3>
                <button class="modal-close" onclick="closeModal('deleteModal')">&times;</button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete ad "<span id="deleteAdTitle"></span>"? This action cannot be undone.</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('deleteModal')">Cancel</button>
                <button class="btn btn-danger" onclick="confirmDelete()">Delete</button>
            </div>
        </div>
    </div>

    <!-- Status Change Modal -->
    <div id="statusModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Change Status</h3>
                <button class="modal-close" onclick="closeModal('statusModal')">&times;</button>
            </div>
            <div class="modal-body">
                <p>Select new status for "<span id="statusAdTitle"></span>":</p>
                <div class="form-group">
                    <select class="form-control" id="newStatus">
                        <option value="live">Live</option>
                        <option value="under review">Under Review</option>
                        <option value="soft rejected">Soft Rejected</option>
                        <option value="permanent rejected">Permanent Rejected</option>
                        <option value="expired">Expired</option>
                        <option value="sold">Sold</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('statusModal')">Cancel</button>
                <button class="btn btn-primary" onclick="confirmStatusChange()">Update Status</button>
            </div>
        </div>
    </div>

    <!-- Auction Bids Modal -->
    <div id="auctionModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Auction Bids</h3>
                <button class="modal-close" onclick="closeModal('auctionModal')">&times;</button>
            </div>
            <div class="modal-body">
                <p>Auction bids for "<span id="auctionAdTitle"></span>"</p>
                <div style="padding: 20px; border: 1px solid #ddd; border-radius: 6px; text-align: center; color: #666;">
                    No bids placed yet for this auction.
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('auctionModal')">Close</button>
            </div>
        </div>
    </div>

    <!-- Attributes Modal -->
    <div id="attributesModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Product Attributes</h3>
                <button class="modal-close" onclick="closeModal('attributesModal')">&times;</button>
            </div>
            <div class="modal-body" id="attributesModalBody">
                <!-- Attributes will be populated dynamically -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('attributesModal')">Close</button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast">
        <div id="toastMessage"></div>
    </div>

    <script>
        // Sample data matching the reference website
        const adsData = [
            {
                id: '6948dbde4fa8efd6fcb7469c',
                title: 'sports shoes',
                description: 'sports shoes',
                seller: { name: 'Thomas', email: 'thomas@gmail.com', phone: '698563999', avatar: 'https://listify.codderlab.com/uploads/user/1763961871514-6243.png' },
                images: ['https://listify.codderlab.com/uploads/adListing/1766382558720-5724.jpg', 'https://listify.codderlab.com/uploads/adListing/1766382558721-6661.jpg', 'https://listify.codderlab.com/uploads/adListing/1766382558721-5163.jpg'],
                attributes: [{ name: 'Brand', value: 'Nike' }, { name: 'Size', value: '42' }],
                status: 'under review',
                country: 'Afghanistan',
                state: 'Verona',
                city: 'Marcellina',
                saleType: 'auction',
                price: 4500,
                likes: 0,
                views: 1,
                auctionPrice: 5100,
                auctionDays: 0,
                auctionStart: null,
                auctionEnd: null,
                createdAt: 'Dec 22, 2025',
                active: true,
                rejectionReason: null
            },
            {
                id: '694547694fa8efd6fcb730d7',
                title: 'sumsung headphones',
                description: 'sumsung headphones',
                seller: { name: 'Thomas', email: 'thomas@gmail.com', phone: '698563999', avatar: 'https://listify.codderlab.com/uploads/user/1763961871514-6243.png' },
                images: ['https://listify.codderlab.com/uploads/adListing/1766147945108-107.webp', 'https://listify.codderlab.com/uploads/adListing/1766147945108-2914.webp', 'https://listify.codderlab.com/uploads/adListing/1766147945108-2117.webp'],
                attributes: [{ name: 'Brand', value: 'Samsung' }],
                status: 'live',
                country: 'India',
                state: 'Gujarat',
                city: 'Surat',
                saleType: 'buy now',
                price: 810,
                likes: 0,
                views: 0,
                auctionPrice: 0,
                auctionDays: 0,
                auctionStart: null,
                auctionEnd: null,
                createdAt: 'Dec 19, 2025',
                active: true,
                rejectionReason: null
            },
            {
                id: '694542734fa8efd6fcb72f07',
                title: 'Cute Pocket Wallet',
                description: 'Cute Pocket Wallet',
                seller: { name: 'Thomas', email: 'thomas@gmail.com', phone: '698563999', avatar: 'https://listify.codderlab.com/uploads/user/1763961871514-6243.png' },
                images: ['https://listify.codderlab.com/uploads/adListing/1766146675387-6397.webp', 'https://listify.codderlab.com/uploads/adListing/1766146675387-46.webp', 'https://listify.codderlab.com/uploads/adListing/1766146675387-1080.webp'],
                attributes: [{ name: 'Material', value: 'Leather' }],
                status: 'live',
                country: 'India',
                state: 'Gujarat',
                city: 'Surat',
                saleType: 'auction',
                price: 524.88,
                likes: 0,
                views: 1,
                auctionPrice: 850,
                auctionDays: 3,
                auctionStart: 'Dec 19, 2025',
                auctionEnd: 'Dec 22, 2025',
                createdAt: 'Dec 19, 2025',
                active: true,
                rejectionReason: null
            },
            {
                id: '69453bd94fa8efd6fcb72da6',
                title: 'Sony camera',
                description: 'Sony camera',
                seller: { name: 'Thomas', email: 'thomas@gmail.com', phone: '698563999', avatar: 'https://listify.codderlab.com/uploads/user/1763961871514-6243.png' },
                images: ['https://listify.codderlab.com/uploads/adListing/1766145064022-3048.webp', 'https://listify.codderlab.com/uploads/adListing/1766144985750-9761.webp'],
                attributes: [{ name: 'Model', value: 'Alpha A7III' }],
                status: 'under review',
                country: 'Pakistan',
                state: 'Verona',
                city: 'Dipignano',
                saleType: 'buy now',
                price: 4860,
                likes: 0,
                views: 1,
                auctionPrice: 0,
                auctionDays: 0,
                auctionStart: null,
                auctionEnd: null,
                createdAt: 'Dec 19, 2025',
                active: true,
                rejectionReason: null
            },
            {
                id: '694539d94fa8efd6fcb72c43',
                title: 'oppo reno 14',
                description: 'oppo reno 14',
                seller: { name: 'Thomas', email: 'thomas@gmail.com', phone: '698563999', avatar: 'https://listify.codderlab.com/uploads/user/1763961871514-6243.png' },
                images: ['https://listify.codderlab.com/uploads/adListing/1766144473588-2947.webp', 'https://listify.codderlab.com/uploads/adListing/1766144473588-7892.webp', 'https://listify.codderlab.com/uploads/adListing/1766144473589-8624.webp'],
                attributes: [{ name: 'Brand', value: 'Oppo' }, { name: 'Storage', value: '256GB' }],
                status: 'soft rejected',
                country: 'France',
                state: 'Padua',
                city: 'Laganadi',
                saleType: 'buy now',
                price: 1350,
                likes: 0,
                views: 1,
                auctionPrice: 0,
                auctionDays: 0,
                auctionStart: null,
                auctionEnd: null,
                createdAt: 'Dec 19, 2025',
                active: true,
                rejectionReason: 'Insufficient product details'
            },
            {
                id: '694538c54fa8efd6fcb72b55',
                title: "women's handbag",
                description: "women's handbag",
                seller: { name: 'Thomas', email: 'thomas@gmail.com', phone: '698563999', avatar: 'https://listify.codderlab.com/uploads/user/1763961871514-6243.png' },
                images: ['https://listify.codderlab.com/uploads/adListing/1766144196989-7717.webp', 'https://listify.codderlab.com/uploads/adListing/1766144196989-9064.webp', 'https://listify.codderlab.com/uploads/adListing/1766144196989-822.webp'],
                attributes: [{ name: 'Brand', value: 'Gucci' }],
                status: 'permanent rejected',
                country: 'Italy',
                state: 'Fier County',
                city: 'Parenti',
                saleType: 'auction',
                price: 900,
                likes: 0,
                views: 0,
                auctionPrice: 1100,
                auctionDays: 3,
                auctionStart: 'Dec 19, 2025',
                auctionEnd: 'Dec 22, 2025',
                createdAt: 'Dec 19, 2025',
                active: true,
                rejectionReason: 'Product violates policy'
            },
            {
                id: '6944ee3653eae717f0a3bb3e',
                title: 'white plain shirt',
                description: 'white plain shirt',
                seller: { name: 'Thomas', email: 'thomas@gmail.com', phone: '698563999', avatar: 'https://listify.codderlab.com/uploads/user/1763961871514-6243.png' },
                images: ['https://listify.codderlab.com/uploads/adListing/1766125110793-4311.jpg', 'https://listify.codderlab.com/uploads/adListing/1766125110793-1442.jpg', 'https://listify.codderlab.com/uploads/adListing/1766125110794-6233.jpg'],
                attributes: [{ name: 'Size', value: 'L' }],
                status: 'live',
                country: 'Afghanistan',
                state: 'Fier County',
                city: 'Rocca Imperiale',
                saleType: 'buy now',
                price: 810,
                likes: 0,
                views: 1,
                auctionPrice: 0,
                auctionDays: 0,
                auctionStart: null,
                auctionEnd: null,
                createdAt: 'Dec 19, 2025',
                active: true,
                rejectionReason: null
            },
            {
                id: '690b49f353689f4e16214504',
                title: 'Aldo Blush-pink luggage Bag For Women',
                description: 'Aldo Purse',
                seller: { name: 'David John', email: 'davidjohn@gmail.com', phone: '7986541236', avatar: 'https://listify.codderlab.com/uploads/user/1765964522251-6867.jfif' },
                images: ['https://listify.codderlab.com/uploads/adListing/1762347507435-1486.webp', 'https://listify.codderlab.com/uploads/adListing/1762347507436-1676.webp', 'https://listify.codderlab.com/uploads/adListing/1762347507438-3066.webp', 'https://listify.codderlab.com/uploads/adListing/1762347507438-7265.webp'],
                attributes: [{ name: 'Brand', value: 'Aldo' }],
                status: 'live',
                country: 'Indonesia',
                state: 'Jawa Timur',
                city: 'Kabupaten Nganjuk',
                saleType: 'buy now',
                price: 999,
                likes: 0,
                views: 3,
                auctionPrice: 0,
                auctionDays: 0,
                auctionStart: null,
                auctionEnd: null,
                createdAt: 'Nov 5, 2025',
                active: false,
                rejectionReason: null
            },
            {
                id: '690b43f853689f4e162142c7',
                title: '2019 Lamborghini Aventador',
                description: 'Classic Car',
                seller: { name: 'David John', email: 'davidjohn@gmail.com', phone: '7986541236', avatar: 'https://listify.codderlab.com/uploads/user/1765964522251-6867.jfif' },
                images: ['https://listify.codderlab.com/uploads/adListing/1765888370606-217.webp', 'https://listify.codderlab.com/uploads/adListing/1762345976188-4148.jpg', 'https://listify.codderlab.com/uploads/adListing/1762345976192-5301.webp', 'https://listify.codderlab.com/uploads/adListing/1762345976194-2165.jpg'],
                attributes: [{ name: 'Year', value: '2019' }, { name: 'Model', value: 'Aventador' }, { name: 'Mileage', value: '5000 km' }],
                status: 'soft rejected',
                country: 'Australia',
                state: 'New South Wales',
                city: 'Neutral Bay',
                saleType: 'not for sale',
                price: 50000,
                likes: 0,
                views: 1,
                auctionPrice: 555555,
                auctionDays: 4,
                auctionStart: null,
                auctionEnd: null,
                createdAt: 'Nov 5, 2025',
                active: true,
                rejectionReason: 'Price too high for market'
            },
            {
                id: '6909837df39987f5132eab47',
                title: 'lice shade Curtain',
                description: 'Light-Filtering Curtain for Comfort and Style.',
                seller: { name: 'David John', email: 'davidjohn@gmail.com', phone: '7986541236', avatar: 'https://listify.codderlab.com/uploads/user/1765964522251-6867.jfif' },
                images: ['https://listify.codderlab.com/uploads/adListing/1762231165134-8992.jpg', 'https://listify.codderlab.com/uploads/adListing/1762231165135-7246.jpg', 'https://listify.codderlab.com/uploads/adListing/1762231165136-8235.jpg'],
                attributes: [{ name: 'Material', value: 'Polyester' }, { name: 'Size', value: '84x84 inches' }, { name: 'Color', value: 'White' }],
                status: 'live',
                country: 'India',
                state: 'Maharashtra',
                city: 'Thane',
                saleType: 'buy now',
                price: 5000,
                likes: 0,
                views: 4,
                auctionPrice: 0,
                auctionDays: 0,
                auctionStart: null,
                auctionEnd: null,
                createdAt: 'Nov 4, 2025',
                active: true,
                rejectionReason: null
            }
        ];

        // Global variables
        let currentPage = 1;
        let entriesPerPage = 10;
        let filteredData = [...adsData];
        let sortColumn = '';
        let sortDirection = 'asc';
        let selectedAd = null;

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            renderTable();
            setupEventListeners();
        });

        // Setup event listeners
        function setupEventListeners() {
            document.getElementById('countryFilter').addEventListener('change', filterData);
            document.getElementById('cityFilter').addEventListener('change', filterData);
            document.getElementById('sellerFilter').addEventListener('change', filterData);
            document.getElementById('statusFilter').addEventListener('change', filterData);
            document.getElementById('entriesPerPage').addEventListener('change', function() {
                entriesPerPage = parseInt(this.value);
                currentPage = 1;
                renderTable();
            });
            document.getElementById('searchInput').addEventListener('input', filterData);
        }

        // Filter data
        function filterData() {
            const countryFilter = document.getElementById('countryFilter').value.toLowerCase();
            const cityFilter = document.getElementById('cityFilter').value.toLowerCase();
            const sellerFilter = document.getElementById('sellerFilter').value.toLowerCase();
            const statusFilter = document.getElementById('statusFilter').value.toLowerCase();
            const searchFilter = document.getElementById('searchInput').value.toLowerCase();

            filteredData = adsData.filter(ad => {
                return (!countryFilter || ad.country.toLowerCase() === countryFilter) &&
                       (!cityFilter || ad.city.toLowerCase() === cityFilter) &&
                       (!sellerFilter || ad.seller.name.toLowerCase() === sellerFilter) &&
                       (!statusFilter || ad.status.toLowerCase() === statusFilter) &&
                       (!searchFilter || 
                        ad.title.toLowerCase().includes(searchFilter) ||
                        ad.seller.name.toLowerCase().includes(searchFilter) ||
                        ad.seller.email.toLowerCase().includes(searchFilter) ||
                        ad.seller.phone.includes(searchFilter) ||
                        ad.id.toLowerCase().includes(searchFilter));
            });

            currentPage = 1;
            renderTable();
        }

        // Sort table
        function sortTable(column) {
            if (sortColumn === column) {
                sortDirection = sortDirection === 'asc' ? 'desc' : 'asc';
            } else {
                sortColumn = column;
                sortDirection = 'asc';
            }

            filteredData.sort((a, b) => {
                let aVal = a[column];
                let bVal = b[column];

                if (column === 'price' || column === 'likes' || column === 'views') {
                    aVal = parseFloat(aVal);
                    bVal = parseFloat(bVal);
                } else if (column === 'createdAt') {
                    aVal = new Date(aVal).getTime();
                    bVal = new Date(bVal).getTime();
                } else {
                    aVal = aVal.toString().toLowerCase();
                    bVal = bVal.toString().toLowerCase();
                }

                if (sortDirection === 'asc') {
                    return aVal > bVal ? 1 : -1;
                } else {
                    return aVal < bVal ? 1 : -1;
                }
            });

            renderTable();
        }

        // Render table
        function renderTable() {
            const startIndex = (currentPage - 1) * entriesPerPage;
            const endIndex = startIndex + entriesPerPage;
            const pageData = filteredData.slice(startIndex, endIndex);

            const tableBody = document.getElementById('tableBody');
            tableBody.innerHTML = '';

            pageData.forEach(ad => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>
                        <div class="title-cell">
                            <img src="${ad.images[0]}" class="title-avatar" alt="${ad.title}">
                            <div class="title-text">
                                <div class="title-main">${ad.title}</div>
                                <div class="title-sub">${ad.description}</div>
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="seller-info">
                            <img src="${ad.seller.avatar}" class="seller-avatar" alt="${ad.seller.name}">
                            <div class="seller-details">
                                <div class="seller-name">${ad.seller.name}</div>
                                <div class="seller-email">${ad.seller.email}</div>
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="image-gallery">
                            ${ad.images.slice(0, 3).map(img => `<img src="${img}" class="gallery-img" alt="Gallery">`).join('')}
                        </div>
                    </td>
                    <td>
                        <div class="attributes-badge">
                            <button class="btn-icon attributes" onclick="viewAttributes('${ad.id}')" title="View attributes">
                                üìã
                                <span class="badge-count">${ad.attributes.length}</span>
                            </button>
                        </div>
                    </td>
                    <td>
                        <span class="chip chip-${ad.status.replace(' ', '-')}">${ad.status}</span>
                        ${ad.rejectionReason ? `<span class="material-icons" style="color: #ff9800; cursor: pointer; font-size: 16px;" onclick="showRejectionReason('${ad.rejectionReason}')" title="Rejection Reason">info</span>` : ''}
                    </td>
                    <td>${ad.country}</td>
                    <td>${ad.state}</td>
                    <td>${ad.city}</td>
                    <td>
                        <span class="chip chip-${ad.saleType.replace(' ', '-')}">${ad.saleType}</span>
                    </td>
                    <td><strong>$${ad.price.toLocaleString()}</strong></td>
                    <td>${ad.likes}</td>
                    <td>${ad.views}</td>
                    <td>${ad.auctionPrice}</td>
                    <td>${ad.auctionDays}</td>
                    <td>${ad.auctionStart || '-'}</td>
                    <td>${ad.auctionEnd || '-'}</td>
                    <td>${ad.createdAt}</td>
                    <td>
                        <label class="switch">
                            <input type="checkbox" ${ad.active ? 'checked' : ''} onchange="toggleActive('${ad.id}', this.checked)">
                            <span class="slider"></span>
                        </label>
                    </td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn-icon view" onclick="viewDetails('${ad.id}')" title="View Details">üëÅÔ∏è</button>
                            <button class="btn-icon edit" onclick="editAd('${ad.id}')" title="Edit">‚úèÔ∏è</button>
                            ${ad.saleType === 'auction' ? `<button class="btn-icon auction" onclick="viewAuctionBids('${ad.id}')" title="Auction Bids">‚öñÔ∏è</button>` : ''}
                            <button class="btn-icon delete" onclick="deleteAd('${ad.id}')" title="Delete">üóëÔ∏è</button>
                            <button class="btn-icon status" onclick="changeStatus('${ad.id}')" title="Change Status">üîß</button>
                        </div>
                    </td>
                `;
                tableBody.appendChild(row);
            });

            renderPagination();
        }

        // Render pagination
        function renderPagination() {
            const totalPages = Math.ceil(filteredData.length / entriesPerPage);
            const startIndex = (currentPage - 1) * entriesPerPage + 1;
            const endIndex = Math.min(currentPage * entriesPerPage, filteredData.length);

            document.getElementById('paginationInfo').textContent = `Showing ${startIndex} to ${endIndex} of ${filteredData.length} entries`;

            const paginationControls = document.getElementById('paginationControls');
            paginationControls.innerHTML = '';

            // First button
            paginationControls.innerHTML += `<button class="page-btn" onclick="goToPage(1)" ${currentPage === 1 ? 'disabled' : ''}>¬´</button>`;

            // Previous button
            paginationControls.innerHTML += `<button class="page-btn" onclick="goToPage(${currentPage - 1})" ${currentPage === 1 ? 'disabled' : ''}>‚Äπ</button>`;

            // Page numbers
            for (let i = Math.max(1, currentPage - 2); i <= Math.min(totalPages, currentPage + 2); i++) {
                paginationControls.innerHTML += `<button class="page-btn ${i === currentPage ? 'active' : ''}" onclick="goToPage(${i})">${i}</button>`;
            }

            // Next button
            paginationControls.innerHTML += `<button class="page-btn" onclick="goToPage(${currentPage + 1})" ${currentPage === totalPages ? 'disabled' : ''}>‚Ä∫</button>`;

            // Last button
            paginationControls.innerHTML += `<button class="page-btn" onclick="goToPage(${totalPages})" ${currentPage === totalPages ? 'disabled' : ''}>¬ª</button>`;
        }

        // Navigation functions
        function goToPage(page) {
            const totalPages = Math.ceil(filteredData.length / entriesPerPage);
            if (page >= 1 && page <= totalPages) {
                currentPage = page;
                renderTable();
            }
        }

        // Action functions
        function viewDetails(adId) {
            selectedAd = adsData.find(ad => ad.id === adId);
            const modalBody = document.getElementById('viewModalBody');
            modalBody.innerHTML = `
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div>
                        <strong>Title:</strong> ${selectedAd.title}<br>
                        <strong>Status:</strong> <span class="chip chip-${selectedAd.status.replace(' ', '-')}">${selectedAd.status}</span><br>
                        <strong>Price:</strong> $${selectedAd.price.toLocaleString()}<br>
                        <strong>Sale Type:</strong> <span class="chip chip-${selectedAd.saleType.replace(' ', '-')}">${selectedAd.saleType}</span>
                    </div>
                    <div>
                        <strong>Seller:</strong> ${selectedAd.seller.name}<br>
                        <strong>Email:</strong> ${selectedAd.seller.email}<br>
                        <strong>Phone:</strong> ${selectedAd.seller.phone}<br>
                        <strong>Location:</strong> ${selectedAd.city}, ${selectedAd.state}, ${selectedAd.country}
                    </div>
                </div>
                <div style="margin-top: 15px;">
                    <strong>Description:</strong><br>
                    ${selectedAd.description}
                </div>
                <div style="margin-top: 15px;">
                    <strong>Images:</strong><br>
                    <div style="display: flex; gap: 10px; margin-top: 10px;">
                        ${selectedAd.images.map(img => `<img src="${img}" style="width: 80px; height: 80px; object-fit: cover; border-radius: 4px;">`).join('')}
                    </div>
                </div>
            `;
            document.getElementById('viewModal').classList.add('show');
        }

        function editAd(adId) {
            selectedAd = adsData.find(ad => ad.id === adId);
            const modalBody = document.getElementById('editModalBody');
            modalBody.innerHTML = `
                <div class="form-group">
                    <label>Title</label>
                    <input type="text" class="form-control" value="${selectedAd.title}" id="editTitle">
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea class="form-control" rows="3" id="editDescription">${selectedAd.description}</textarea>
                </div>
                <div class="form-group">
                    <label>Price</label>
                    <input type="number" class="form-control" value="${selectedAd.price}" id="editPrice">
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" ${selectedAd.active ? 'checked' : ''} id="editActive">
                        Active
                    </label>
                </div>
            `;
            document.getElementById('editModal').classList.add('show');
        }

        function deleteAd(adId) {
            selectedAd = adsData.find(ad => ad.id === adId);
            document.getElementById('deleteAdTitle').textContent = selectedAd.title;
            document.getElementById('deleteModal').classList.add('show');
        }

        function confirmDelete() {
            showToast(`Ad "${selectedAd.title}" deleted successfully`, 'success');
            closeModal('deleteModal');
        }

        function changeStatus(adId) {
            selectedAd = adsData.find(ad => ad.id === adId);
            document.getElementById('statusAdTitle').textContent = selectedAd.title;
            document.getElementById('statusModal').classList.add('show');
        }

        function confirmStatusChange() {
            const newStatus = document.getElementById('newStatus').value;
            showToast(`Ad status changed to "${newStatus}" successfully`, 'success');
            closeModal('statusModal');
        }

        function viewAuctionBids(adId) {
            selectedAd = adsData.find(ad => ad.id === adId);
            document.getElementById('auctionAdTitle').textContent = selectedAd.title;
            document.getElementById('auctionModal').classList.add('show');
        }

        function viewAttributes(adId) {
            selectedAd = adsData.find(ad => ad.id === adId);
            const modalBody = document.getElementById('attributesModalBody');
            modalBody.innerHTML = selectedAd.attributes.map(attr => `
                <div style="padding: 15px; border: 1px solid #ddd; border-radius: 6px; margin-bottom: 10px;">
                    <strong>${attr.name}:</strong> ${attr.value}
                </div>
            `).join('');
            document.getElementById('attributesModal').classList.add('show');
        }

        function updateAd() {
            showToast(`Ad "${selectedAd.title}" updated successfully`, 'success');
            closeModal('editModal');
        }

        function toggleActive(adId, isActive) {
            const ad = adsData.find(a => a.id === adId);
            ad.active = isActive;
            showToast(`Ad "${ad.title}" status updated successfully`, 'success');
        }

        function showRejectionReason(reason) {
            showToast(`Rejection Reason: ${reason}`, 'info');
        }

        // Modal functions
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('show');
        }

        // Toast notification
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');
            
            toast.className = `toast toast-${type} show`;
            toastMessage.textContent = message;
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.classList.remove('show');
                }
            });
        }
    </script>
</body>
</html>
